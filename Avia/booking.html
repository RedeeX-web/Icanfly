<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Бронирование - ICANFLY</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <img src="c:\Users\admin2\Downloads\Исмаилова\Авиакомпания\Avia\style.css" alt="ICANFLY">
                </div>
                <nav class="nav">
                    <ul>
                        <li><a href="index.html#promotions">Акции</a></li>
                        <li><a href="index.html#search">Поиск</a></li>
                        <li><a href="register.html">Регистрация на рейс</a></li>
                        <li><a href="login.html">Личный кабинет</a></li>
                    </ul>
                </nav>
            </div>
        </div>
    </header>

    <main class="booking-page">
        <div class="container">
            <h1>Бронирование рейса</h1>

            <section class="flight-info">
                <h2>Информация о рейсах</h2>
                <div
                    style="display: flex; flex-direction: row; gap: 10px; width: 100%; align-items: center; justify-content: center;">
                    <div class="flight-details-card">
                        <h3>Рейс туда</h3>
                        <div class="flight-data">
                            <div class="data-row">
                                <span class="label">Номер рейса:</span>
                                <span class="value" id="outbound-number">SU-1234</span>
                            </div>
                            <div class="data-row">
                                <span class="label">Город вылета:</span>
                                <span class="value" id="outbound-from-city">Москва</span>
                            </div>
                            <div class="data-row">
                                <span class="label">Аэропорт вылета:</span>
                                <span class="value" id="outbound-from-airport">SVO</span>
                            </div>
                            <div class="data-row">
                                <span class="label">Дата вылета:</span>
                                <span class="value" id="outbound-date">15.12.2024</span>
                            </div>
                            <div class="data-row">
                                <span class="label">Время вылета:</span>
                                <span class="value" id="outbound-time">08:45</span>
                            </div>
                            <div class="data-row">
                                <span class="label">Город назначения:</span>
                                <span class="value" id="outbound-to-city">Санкт-Петербург</span>
                            </div>
                            <div class="data-row">
                                <span class="label">Аэропорт назначения:</span>
                                <span class="value" id="outbound-to-airport">LED</span>
                            </div>
                            <div class="data-row">
                                <span class="label">Время прилета:</span>
                                <span class="value" id="outbound-arrival-time">10:15</span>
                            </div>
                            <div class="data-row">
                                <span class="label">Стоимость:</span>
                                <span class="value price" id="outbound-price">8 500 ₽</span>
                            </div>
                        </div>
                    </div>

                    <div class="flight-details-card">
                        <h3>Рейс обратно</h3>
                        <div class="flight-data">
                            <div class="data-row">
                                <span class="label">Номер рейса:</span>
                                <span class="value" id="inbound-number">SU-4321</span>
                            </div>
                            <div class="data-row">
                                <span class="label">Город вылета:</span>
                                <span class="value" id="inbound-from-city">Санкт-Петербург</span>
                            </div>
                            <div class="data-row">
                                <span class="label">Аэропорт вылета:</span>
                                <span class="value" id="inbound-from-airport">LED</span>
                            </div>
                            <div class="data-row">
                                <span class="label">Дата вылета:</span>
                                <span class="value" id="inbound-date">20.12.2024</span>
                            </div>
                            <div class="data-row">
                                <span class="label">Время вылета:</span>
                                <span class="value" id="inbound-time">18:30</span>
                            </div>
                            <div class="data-row">
                                <span class="label">Город назначения:</span>
                                <span class="value" id="inbound-to-city">Москва</span>
                            </div>
                            <div class="data-row">
                                <span class="label">Аэропорт назначения:</span>
                                <span class="value" id="inbound-to-airport">SVO</span>
                            </div>
                            <div class="data-row">
                                <span class="label">Время прилета:</span>
                                <span class="value" id="inbound-arrival-time">20:00</span>
                            </div>
                            <div class="data-row">
                                <span class="label">Стоимость:</span>
                                <span class="value price" id="inbound-price">7 800 ₽</span>
                            </div>
                        </div>
                    </div>
                </div>

            </section>


          <section class="passengers-info">
    <h2>Данные пассажиров</h2>
    
    <!-- Контейнер для всех пассажиров -->
    <div id="passengers-container">
        <!-- Первый пассажир будет видим по умолчанию -->
        <div class="passenger-form active">
            <div class="passenger-header">
                <h3>Пассажир 1</h3>
            </div>
            <div class="passenger-content">
                <div class="input-group">
                    <label for="name1">Имя</label>
                    <input type="text" id="name1" name="name[]" required>
                </div>
                <div class="input-group">
                    <label for="lastname1">Фамилия</label>
                    <input type="text" id="lastname1" name="lastname[]" required>
                </div>
                <div class="form-row">
                    <div class="input-group">
                        <label for="birthdate1">Дата рождения</label>
                        <input type="date" id="birthdate1" name="birthdate[]">
                    </div>
                    <div class="input-group">
                        <label for="passport1">Номер документа</label>
                        <input type="tel" id="passport1" name="passport[]" placeholder="ХХ ХХ ХХХХХХ"
                            autocomplete="off" inputmode="numeric" pattern="^\d{2}\s\d{2}\s\d{6}$" required>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="passenger-buttons">
        <button class="btn-secondary" id="add-passenger">+ Добавить пассажира</button>
        <button class="btn-secondary" id="delete-passenger">- Удалить пассажира</button>
    </div>
    <div class="passenger-counter" id="passenger-counter">
    Пассажиров: 1/8
</div>
</section>
            <section class="booking-summary">
                <div class="summary-card">
                    <h3>Итоги бронирования</h3>
                    <div class="summary-data">
                        <div class="data-row">
                            <span class="label">Количество пассажиров:</span>
                            <span class="value" id="passengers-count">1</span>
                        </div>
                        <div class="data-row">
                            <span class="label">Стоимость перелета:</span>
                            <span class="value" id="flight-cost">16 300 ₽</span>
                        </div>
                        <div class="data-row total">
                            <span class="label">Итоговая стоимость:</span>
                            <span class="value" id="total-cost">16 300 ₽</span>
                        </div>
                    </div>
                    <a href="booking_management.html"><button class="btn-primary" id="Confirm_Booking_Button">Оформить
                            бронирование</button></a>
                </div>
            </section>
        </div>
    </main>


    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-contact">
                    <h3>8 (800) 100-10-10</h3>
                    <p>Круглосуточная поддержка</p>
                </div>
                <nav class="footer-nav">
                    <ul>
                        <li><a href="#about">Главная</a></li>
                        <li><a href="">Регистрация</a></li>
                        <li><a href="#help">Войти</a></li>
                        <li><a href="#rules">Контакты</a></li>
                        <li><a href="#rules">Новости</a></li>
                        <li><a href="#rules">Вернуться</a></li>
                        <li><a href="#rules">Отзывы</a></li>

                    </ul>
                </nav>
            </div>
        </div>
    </footer>
    <script src="script.js"></script>


  <script>
document.addEventListener('DOMContentLoaded', function() {
    const passengersContainer = document.getElementById('passengers-container');
    const addButton = document.getElementById('add-passenger');
    const deleteButton = document.getElementById('delete-passenger');
    let passengerCount = 1;

    // Функция для создания формы пассажира
    function createPassengerForm(number) {
        return `
            <div class="passenger-form new-passenger">
                <div class="passenger-header" onclick="togglePassengerForm(this)">
                    <h3>Пассажир ${number}</h3>
                </div>
                <div class="passenger-content">
                    <div class="input-group">
                        <label for="name${number}">Имя</label>
                        <input type="text" id="name${number}" name="name[]" required>
                    </div>
                    <div class="input-group">
                        <label for="lastname${number}">Фамилия</label>
                        <input type="text" id="lastname${number}" name="lastname[]" required>
                    </div>
                    <div class="form-row">
                        <div class="input-group">
                            <label for="birthdate${number}">Дата рождения</label>
                            <input type="date" id="birthdate${number}" name="birthdate[]">
                        </div>
                        <div class="input-group">
                            <label for="passport${number}">Номер документа</label>
                            <input type="tel" id="passport${number}" name="passport[]" placeholder="ХХ ХХ ХХХХХХ"
                                autocomplete="off" inputmode="numeric" pattern="^\d{2}\s\d{2}\s\d{6}$" required>
                        </div>
                    </div>
                </div>
            </div>
        `;
    }


    function updatePassengerCounter() {
        const counter = document.getElementById('passenger-counter');
        if (counter) {
            const currentCount = passengersContainer.querySelectorAll('.passenger-form').length;
            counter.textContent = `Пассажиров: ${currentCount}/8`;
            
            // Меняем цвет счетчика при приближении к лимиту
            if (currentCount >= 6) {
                counter.style.color = '#ff6b6b';
            } else {
                counter.style.color = '#333';
            }
        }
    }

    // Добавление пассажира
    addButton.addEventListener('click', function() {
        const allPassengers = passengersContainer.querySelectorAll('.passenger-form');
        
        // Проверка на максимальное количество (8)
        if (allPassengers.length >= 8) {
            alert('Максимальное количество пассажиров - 8');
            return;
        }
        
        passengerCount++;
        const newPassengerHTML = createPassengerForm(passengerCount);
        passengersContainer.insertAdjacentHTML('beforeend', newPassengerHTML);
        
        // Автоматически раскрываем новую форму
        const newForm = passengersContainer.lastElementChild;
        newForm.classList.add('active');
        
        // Обновляем счетчик
        updatePassengerCounter();
    });

    // Удаление пассажира
    deleteButton.addEventListener('click', function() {
        const allPassengers = passengersContainer.querySelectorAll('.passenger-form');
        if (allPassengers.length > 1) {
            const lastPassenger = allPassengers[allPassengers.length - 1];
            lastPassenger.style.opacity = '0';
            lastPassenger.style.transform = 'translateX(-100%)';
            
            setTimeout(() => {
                lastPassenger.remove();
                passengerCount--;
                // Обновляем счетчик
                updatePassengerCounter();
            }, 300);
        } else {
            alert('Должен остаться хотя бы один пассажир!');
        }
    });

    // Инициализация счетчика при загрузке
    updatePassengerCounter();
});

// Функция для переключения видимости формы (можно кликать на заголовок)
function togglePassengerForm(element) {
    const passengerForm = element.parentElement;
    passengerForm.classList.toggle('active');
}
</script>
